<div class="arjs-loader">
  <div>Loading, please wait...</div>
</div>

<a-scene
  debug="true"
  vr-mode-ui="enabled: false"
  embedded
  renderer="antialias: true;"
  arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: true"
>
  <!-- Assets laden -->
  <a-assets>
    <a-asset-item id="mushroom" src="assets/3danimations/MushroomJubel.glb"></a-asset-item>
  </a-assets>

  <a-entity
    camera
    position="0 0 0"
    look-controls
    raycaster="objects: .clickable"
  >
    @if (tracked() === true) {
    <a-gltf-model
      src="#mushroom"
      position="0 -1 -4"
      rotation="0 0 0"
      scale="1 1 1"
      animation-mixer="clip: Armature|Agree_Gesture|baselayer; loop: repeat"
    ></a-gltf-model>

    <audio id="WichtelerzÃ¤hlt" src="assets/Sounds/WichtelTest.mp3"></audio>
    }
    <!-- NFT-Marker -->
    <a-nft
      type="nft"
      url="assets/Targets/Kuckuck"
      scale="1 1 1"
      smooth="true"
      smoothCount="2"
      smoothTolerance="2"
      smoothThreshold="3"
      (markerFound)="onMarkerFound('assets/Uhu.mp3')"
      (markerLost)="onMarkerLost()"
    >
    </a-nft>
  </a-entity>

  <a-entity light="type: ambient; color: #FFFFFF; intensity: 1"></a-entity>
  <a-entity
    light="type: directional; color: #FFFFFF; intensity: 0.8"
    position="1 1 0"
  ></a-entity>
</a-scene>

@if (tracked() === true) {
<div class="marker-found-overlay">
  <h1>Marker Found</h1>
</div>

} @else {
<div class="marker-found-overlay">
  <h1>Marker Lost</h1>
</div>
}